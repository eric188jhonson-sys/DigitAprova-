<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <title>DigitAprova</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      text-align: center;
      padding: 20px;
    }

    #frase {
      font-size: 22px;
      margin: 20px;
    }

    input {
      width: 80%;
      padding: 10px;
      font-size: 18px;
    }

    #status {
      margin-top: 15px;
      font-weight: bold;
    }

    button {
      padding: 10px 15px;
      font-size: 16px;
      margin: 5px;
      cursor: pointer;
    }

    #painel {
      margin-top: 15px;
      font-size: 16px;
    }
  </style>
</head>
<body>

  <h1>DigitAprova</h1>

  <label>Escolha a mat√©ria:</label>
  <select id="materia" onchange="trocarMateria()">
    <option value="constitucional">Direito Constitucional</option>
    <option value="administrativo">Direito Administrativo</option>
    <option value="penal">Direito Penal</option>
    <option value="portugues">Portugu√™s</option>
  </select>

  <div id="painel">
    ‚è± Tempo: <span id="tempo">0</span>s |
    üìÑ Frase: <span id="contador">1</span>/<span id="total">0</span> |
    ‚≠ê Pontos: <span id="pontos">0</span>
  </div>

  <div id="frase"></div>

  <input type="text" id="entrada" placeholder="Digite aqui..." autofocus>

  <div id="status"></div>

  <div id="botoes" style="margin-top:15px; display:none;">
    <button onclick="proximaFrase()">‚û°Ô∏è Pr√≥xima frase</button>
    <button onclick="refazerFrase()">üîÑ Refazer frase</button>
  </div>

  <script>
    const frasesConstitucional = [
      "A Constitui√ß√£o Federal √© a norma suprema do ordenamento jur√≠dico.",
      "Todo poder emana do povo, que o exerce por meio de representantes eleitos.",
      "A dignidade da pessoa humana √© fundamento da Rep√∫blica.",
      "Os direitos fundamentais t√™m aplica√ß√£o imediata.",
      "A separa√ß√£o dos poderes garante o equil√≠brio entre eles.",
      "A soberania √© fundamento do Estado brasileiro.",
      "A cidadania √© princ√≠pio fundamental da Rep√∫blica.",
      "A Constitui√ß√£o garante igualdade perante a lei.",
      "O direito adquirido √© protegido pela Constitui√ß√£o.",
      "A coisa julgada assegura seguran√ßa jur√≠dica."
    ];

    const frasesAdministrativo = [
      "A administra√ß√£o p√∫blica deve obedecer aos princ√≠pios da legalidade, impessoalidade, moralidade, publicidade e efici√™ncia.",
      "O concurso p√∫blico √© a forma regular de ingresso no servi√ßo p√∫blico.",
      "A licita√ß√£o √© obrigat√≥ria para contrata√ß√£o pela administra√ß√£o p√∫blica.",
      "A responsabilidade civil do Estado √© objetiva.",
      "O poder de pol√≠cia limita direitos em benef√≠cio da coletividade.",
      "O ato administrativo deve respeitar a finalidade p√∫blica.",
      "A autotutela permite √† administra√ß√£o rever seus pr√≥prios atos.",
      "O servidor p√∫blico responde civil, penal e administrativamente.",
      "O contrato administrativo possui cl√°usulas exorbitantes.",
      "A efici√™ncia busca o melhor resultado do servi√ßo p√∫blico."
    ];

    const frasesPenal = [
      "N√£o h√° crime sem lei anterior que o defina.",
      "N√£o h√° pena sem pr√©via comina√ß√£o legal.",
      "O dolo consiste na vontade consciente de praticar o crime.",
      "A culpa ocorre quando n√£o h√° inten√ß√£o de cometer o delito.",
      "O crime pode ser doloso ou culposo.",
      "A tentativa √© punida quando o crime n√£o se consuma por circunst√¢ncias alheias √† vontade do agente.",
      "O agente √© punido na medida de sua culpabilidade.",
      "O erro de tipo pode excluir o dolo.",
      "A leg√≠tima defesa exclui a ilicitude do fato.",
      "O estado de necessidade afasta a ilicitude da conduta."
    ];

    const frasesPortugues = [
      "O sujeito √© o termo da ora√ß√£o sobre o qual se declara algo.",
      "O predicado √© aquilo que se declara sobre o sujeito.",
      "O verbo concorda com o sujeito em n√∫mero e pessoa.",
      "A crase √© a fus√£o da preposi√ß√£o a com o artigo a.",
      "A v√≠rgula separa termos coordenados.",
      "O per√≠odo pode ser simples ou composto.",
      "A ora√ß√£o subordinada depende da ora√ß√£o principal.",
      "O adjunto adnominal acompanha o substantivo.",
      "O complemento nominal completa o sentido do nome.",
      "A interpreta√ß√£o de texto exige aten√ß√£o ao sentido das palavras."
    ];

    let frases = frasesConstitucional;
    let indice = 0;
    let pontos = 0;
    let tempo = 0;
    let cronometro;

    const fraseDiv = document.getElementById("frase");
    const entrada = document.getElementById("entrada");
    const status = document.getElementById("status");
    const botoes = document.getElementById("botoes");
    const contadorSpan = document.getElementById("contador");
    const totalSpan = document.getElementById("total");
    const pontosSpan = document.getElementById("pontos");
    const tempoSpan = document.getElementById("tempo");

    function iniciarCronometro() {
      clearInterval(cronometro);
      tempo = 0;
      tempoSpan.textContent = tempo;
      cronometro = setInterval(() => {
        tempo++;
        tempoSpan.textContent = tempo;
      }, 1000);
    }

    function normalizar(texto) {
      return texto
        .normalize("NFD")
        .replace(/[\u0300-\u036f]/g, "")
        .replace(/\s+/g, " ")
        .trim()
        .toLowerCase();
    }

    function carregarFrase() {
      fraseDiv.textContent = frases[indice];
      entrada.value = "";
      status.textContent = "";
      botoes.style.display = "none";
      entrada.disabled = false;
      entrada.focus();
      contadorSpan.textContent = indice + 1;
      totalSpan.textContent = frases.length;
      iniciarCronometro();
    }

    entrada.addEventListener("input", function() {
      const digitado = normalizar(entrada.value);
      const correto = normalizar(frases[indice]);

      if (digitado === correto) {
        clearInterval(cronometro);
        status.textContent = "‚úîÔ∏è Frase correta!";
        botoes.style.display = "block";
        entrada.disabled = true;
        pontos += 10;
        pontosSpan.textContent = pontos;
      }
    });

    function proximaFrase() {
      indice++;
      if (indice < frases.length) {
        carregarFrase();
      } else {
        fraseDiv.textContent = "üéâ Fim do treino!";
        status.textContent = "Pontua√ß√£o final: " + pontos;
        botoes.style.display = "none";
        entrada.disabled = true;
        clearInterval(cronometro);
      }
    }

    function refazerFrase() {
      entrada.value = "";
      status.textContent = "üîÑ Refa√ßa a frase:";
      entrada.disabled = false;
      entrada.focus();
      iniciarCronometro();
    }

    function trocarMateria() {
      const materia = document.getElementById("materia").value;
      if (materia === "constitucional") frases = frasesConstitucional;
      if (materia === "administrativo") frases = frasesAdministrativo;
      if (materia === "penal") frases = frasesPenal;
      if (materia === "portugues") frases = frasesPortugues;

      indice = 0;
      pontos = 0;
      pontosSpan.textContent = pontos;
      carregarFrase();
    }

    carregarFrase();
  </script>

</body>
</html>
