<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<title>DigitAprova - Modo Simulado</title>
<style>
body {
  font-family: Arial, sans-serif;
  background: #f2f2f2;
  text-align: center;
  padding: 20px;
}
h1 {
  color: #333;
}
select, button {
  padding: 10px;
  margin: 5px;
  font-size: 16px;
}
#frase {
  margin: 20px auto;
  padding: 15px;
  width: 80%;
  background: #fff;
  border-radius: 8px;
  font-size: 18px;
}
textarea {
  width: 80%;
  height: 100px;
  font-size: 18px;
  padding: 10px;
}
#timer {
  font-size: 20px;
  color: #d9534f;
  font-weight: bold;
}
#status, #resultado {
  margin-top: 10px;
  font-size: 18px;
}
</style>
</head>

<body>

<h1>DigitAprova üìö‚å®Ô∏è (Modo Simulado)</h1>

<select id="materia">
  <option value="portugues">Portugu√™s</option>
  <option value="constitucional">Direito Constitucional</option>
  <option value="administrativo">Direito Administrativo</option>
  <option value="informatica">Inform√°tica</option>
  <option value="logica">Racioc√≠nio L√≥gico</option>
</select>

<br>
<button onclick="iniciarSimulado()">Iniciar simulado</button>

<div id="timer">Tempo: 30</div>
<div id="status">Quest√£o: 0 / 20</div>

<div id="frase"></div>

<textarea id="entrada" placeholder="Digite a frase aqui..." oninput="verificar()"></textarea>

<br>
<button onclick="proximaFrase()">Pr√≥xima frase</button>

<div id="resultado"></div>

<script>
const frases = {
portugues: [
"O candidato dedicado alcan√ßa melhores resultados.",
"A leitura di√°ria amplia o vocabul√°rio.",
"A pontua√ß√£o correta evita ambiguidades.",
"A concord√¢ncia verbal respeita o sujeito.",
"A crase depende da reg√™ncia."
],
constitucional: [
"A Constitui√ß√£o Federal √© a lei suprema.",
"Todos s√£o iguais perante a lei.",
"O voto √© cl√°usula p√©trea.",
"A dignidade da pessoa humana √© fundamento.",
"O STF √© o guardi√£o da Constitui√ß√£o."
],
administrativo: [
"A administra√ß√£o p√∫blica obedece √† legalidade.",
"O princ√≠pio da efici√™ncia busca resultados.",
"A licita√ß√£o garante igualdade.",
"A anula√ß√£o ocorre quando o ato √© ilegal.",
"A responsabilidade do Estado √© objetiva."
],
informatica: [
"O hardware √© a parte f√≠sica do computador.",
"O software √© a parte l√≥gica.",
"A mem√≥ria RAM √© vol√°til.",
"O backup evita perda de dados.",
"O antiv√≠rus protege o sistema."
],
logica: [
"Uma proposi√ß√£o √© verdadeira ou falsa.",
"A conjun√ß√£o exige duas verdades.",
"A nega√ß√£o inverte o valor l√≥gico.",
"O racioc√≠nio dedutivo √© l√≥gico.",
"A sequ√™ncia segue um padr√£o."
]
};

let fraseAtual = "";
let tempo = 30;
let timerInterval;
let questaoAtual = 0;
let totalQuestoes = 20;
let acertos = 0;

function iniciarSimulado() {
  questaoAtual = 0;
  acertos = 0;
  document.getElementById("resultado").innerText = "";
  proximaFrase();
}

function proximaFrase() {
  clearInterval(timerInterval);

  if (questaoAtual >= totalQuestoes) {
    finalizarSimulado();
    return;
  }

  tempo = 30;
  document.getElementById("timer").innerText = "Tempo: " + tempo;

  const materia = document.getElementById("materia").value;
  const lista = frases[materia];
  fraseAtual = lista[Math.floor(Math.random() * lista.length)];

  document.getElementById("frase").innerText = fraseAtual;
  document.getElementById("entrada").value = "";
  document.getElementById("resultado").innerText = "";

  questaoAtual++;
  document.getElementById("status").innerText =
    "Quest√£o: " + questaoAtual + " / " + totalQuestoes;

  timerInterval = setInterval(() => {
    tempo--;
    document.getElementById("timer").innerText = "Tempo: " + tempo;

    if (tempo <= 0) {
      clearInterval(timerInterval);
      document.getElementById("resultado").innerText = "‚è∞ Tempo esgotado!";
    }
  }, 1000);
}

function verificar() {
  const digitado = document.getElementById("entrada").value;
  let erros = 0;

  for (let i = 0; i < digitado.length; i++) {
    if (digitado[i] !== fraseAtual[i]) {
      erros++;
    }
  }

  if (digitado === fraseAtual) {
    clearInterval(timerInterval);
    acertos++;
    document.getElementById("resultado").innerText = "‚úÖ Correto!";
  } else {
    document.getElementById("resultado").innerText = "Erros: " + erros;
  }
}

function finalizarSimulado() {
  document.getElementById("frase").innerText = "";
  document.getElementById("entrada").value = "";
  document.getElementById("resultado").innerText =
    "üèÅ Simulado finalizado! Acertos: " + acertos + " de " + totalQuestoes;
}
</script>

</body>
</html>
